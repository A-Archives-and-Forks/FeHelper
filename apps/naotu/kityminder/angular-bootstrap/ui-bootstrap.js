angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){var a=function(i,r,o){o=o||{};var l=e.defer(),s=a[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(e){n.$apply(function(){i.unbind(s,c),l.resolve(i)})};return s&&i.bind(s,c),t(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),s||l.resolve(i)}),l.promise.cancel=function(){s&&i.unbind(s,c),l.reject("Transition cancelled")},l.promise},i=document.createElement("trans");function r(e){for(var t in e)if(void 0!==i.style[t])return e[t]}return a.transitionEndEventName=r({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),a.animationEndEventName=r({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),a}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){return{link:function(t,n,a){var i,r=!0;function o(t){var a=e(n,t);return i&&i.cancel(),i=a,a.then(r,r),a;function r(){i===a&&(i=void 0)}}function l(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r?(r=!1,s(),n.css({height:0})):(n.css({height:n[0].scrollHeight+"px"}),n[0].offsetWidth,n.removeClass("collapse in").addClass("collapsing"),o({height:0}).then(s)):r?(r=!1,l()):(n.removeClass("collapse").addClass("collapsing"),o({height:n[0].scrollHeight+"px"}).then(l))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.$watch("isOpen",function(t){t&&a.closeOthers(e)}),e.toggleOpen=function(){e.isDisabled||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable="close"in t,this.close=e.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],r=a[1];r.$render=function(){t.toggleClass(i.activeClass,angular.equals(r.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){var a=t.hasClass(i.activeClass);a&&!angular.isDefined(n.uncheckable)||e.$apply(function(){r.$setViewValue(a?null:e.$eval(n.btnRadio)),r.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,t,n,a){var i=a[0],r=a[1];function o(){return l(n.btnCheckboxTrue,!0)}function l(t,n){var a=e.$eval(t);return angular.isDefined(a)?a:n}r.$render=function(){t.toggleClass(i.activeClass,angular.equals(r.$modelValue,o()))},t.bind(i.toggleEvent,function(){e.$apply(function(){r.$setViewValue(t.hasClass(i.activeClass)?l(n.btnCheckboxFalse,!1):o()),r.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(e,t,n,a){var i,r,o=this,l=o.slides=e.slides=[],s=-1;o.currentSlide=null;var c=!1;function u(){p();var t=+e.interval;!isNaN(t)&&t>0&&(i=n(d,t))}function p(){i&&(n.cancel(i),i=null)}function d(){var t=+e.interval;r&&!isNaN(t)&&t>0?e.next():e.pause()}o.select=e.select=function(n,i){var r=l.indexOf(n);function p(){if(!c){if(o.currentSlide&&angular.isString(i)&&!e.noTransition&&n.$element){n.$element.addClass(i);n.$element[0].offsetWidth;angular.forEach(l,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:i,active:!0,entering:!0}),angular.extend(o.currentSlide||{},{direction:i,leaving:!0}),e.$currentTransition=a(n.$element,{}),t=n,p=o.currentSlide,e.$currentTransition.then(function(){d(t,p)},function(){d(t,p)})}else d(n,o.currentSlide);var t,p;o.currentSlide=n,s=r,u()}}function d(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}void 0===i&&(i=r>s?"next":"prev"),n&&n!==o.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(p)):p())},e.$on("$destroy",function(){c=!0}),o.indexOfSlide=function(e){return l.indexOf(e)},e.next=function(){var t=(s+1)%l.length;if(!e.$currentTransition)return o.select(l[t],"next")},e.prev=function(){var t=s-1<0?l.length-1:s-1;if(!e.$currentTransition)return o.select(l[t],"prev")},e.isActive=function(e){return o.currentSlide===e},e.$watch("interval",u),e.$on("$destroy",p),e.play=function(){r||(r=!0,u())},e.pause=function(){e.noPause||(r=!1,p())},o.addSlide=function(t,n){t.$element=n,l.push(t),1===l.length||t.active?(o.select(l[l.length-1]),1==l.length&&e.play()):t.active=!1},o.removeSlide=function(e){var t=l.indexOf(e);l.splice(t,1),l.length>0&&e.active?t>=l.length?o.select(l[t-1]):o.select(l[t]):s>t&&s--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(e,t){this.parsers={};var n={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:e.DATETIME_FORMATS.MONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.MONTH.indexOf(t)}},MMM:{regex:e.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(t){this.month=e.DATETIME_FORMATS.SHORTMONTH.indexOf(t)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:e.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:e.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(a,i){if(!angular.isString(a)||!i)return a;i=e.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=function(e){var a=[],i=e.split("");return angular.forEach(n,function(t,n){var r=e.indexOf(n);if(r>-1){e=e.split(""),i[r]="("+t.regex+")",e[r]="$";for(var o=r+1,l=r+n.length;o<l;o++)i[o]="",e[o]="$";e=e.join(""),a.push({index:r,apply:t.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:t(a,"index")}}(i));var r=this.parsers[i],o=r.regex,l=r.map,s=a.match(o);if(s&&s.length){for(var c,u={year:1900,month:0,date:1,hours:0},p=1,d=s.length;p<d;p++){var f=l[p-1];f.apply&&f.apply.call(u,s[p])}return function(e,t,n){if(1===t&&n>28)return 29===n&&(e%4==0&&e%100!=0||e%400==0);if(3===t||5===t||8===t||10===t)return n<31;return!0}(u.year,u.month,u.date)&&(c=new Date(u.year,u.month,u.date,u.hours)),c}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e){return"static"===(a="position",((n=e).currentStyle?n.currentStyle[a]:t.getComputedStyle?t.getComputedStyle(n)[a]:n.style[a])||"static");var n,a}return{position:function(t){var a=this.offset(t),i={top:0,left:0},r=function(t){for(var a=e[0],i=t.offsetParent||a;i&&i!==a&&n(i);)i=i.offsetParent;return i||a}(t[0]);r!=e[0]&&((i=this.offset(angular.element(r))).top+=r.clientTop-r.scrollTop,i.left+=r.clientLeft-r.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:a.top-i.top,left:a.left-i.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,r,o,l,s=n.split("-"),c=s[0],u=s[1]||"center";i=a?this.offset(e):this.position(e),r=t.prop("offsetWidth"),o=t.prop("offsetHeight");var p={center:function(){return i.left+i.width/2-r/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-o/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":l={top:d[u](),left:p[c]()};break;case"left":l={top:d[u](),left:i.left-r};break;case"bottom":l={top:d[c](),left:p[u]()};break;default:l={top:i.top-o,left:p[u]()}}return l}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(e,t,n,a,i,r,o,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){s[n]=angular.isDefined(t[n])?i<8?a(t[n])(e.$parent):e.$parent.$eval(t[n]):l[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){s[a]=e?new Date(e):null,s.refreshView()}):s[a]=l[a]?new Date(l[a]):null}),e.datepickerMode=e.datepickerMode||l.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(t.initDate)?e.$parent.$eval(t.initDate):new Date,e.isActive=function(t){return 0===s.compare(t.date,s.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(e){(c=e).$render=function(){s.render()}},this.render=function(){if(c.$modelValue){var e=new Date(c.$modelValue),t=!isNaN(e);t?this.activeDate=e:r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),c.$setValidity("date",t)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$modelValue?new Date(c.$modelValue):null;c.$setValidity("date-disabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$modelValue?new Date(c.$modelValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===s.minMode){var n=c.$modelValue?new Date(c.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else s.activeDate=t,e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),n=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,n,1),s.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===s.maxMode&&1===t||e.datepickerMode===s.minMode&&-1===t||(e.datepickerMode=s.modes[s.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){i(function(){s.element[0].focus()},0,!1)};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),"enter"===n||"space"===n){if(s.isDisabled(s.activeDate))return;e.select(s.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(s.handleKeyDown(n,t),s.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var r=[31,28,31,30,31,30,31,31,30,31,30,31];function o(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?r[t]:29}i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),r=new Date(n,a,1),o=i.startingDay-r.getDay(),l=o>0?7-o:-o,s=new Date(r);l>0&&s.setDate(1-l);for(var c=function(e,t){var n=new Array(t),a=new Date(e),i=0;for(a.setHours(12);i<t;)n[i++]=new Date(a),a.setDate(a.getDate()+1);return n}(s,42),u=0;u<42;u++)c[u]=angular.extend(i.createDateObject(c[u],i.formatDay),{secondary:c[u].getMonth()!==a,uid:t.uniqueId+"-"+u});t.labels=new Array(7);for(var p=0;p<7;p++)t.labels[p]={abbr:e(c[p].date,i.formatDayHeader),full:e(c[p].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(c,7),t.showWeeks){t.weekNumbers=[];for(var d=function(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}(t.rows[0][0].date),f=t.rows.length;t.weekNumbers.push(d++)<f;);}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e,t){var n=i.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(a,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),a=i.activeDate.getFullYear(),r=0;r<12;r++)n[r]=angular.extend(i.createDateObject(new Date(a,r,1),i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(n,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e,t){var n=i.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var a=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(a)}else"home"===e?n=0:"end"===e&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){var i=a.yearRange;function r(e){return parseInt((e-1)/i,10)*i+1}a.step={years:i},a.element=t,a._refreshView=function(){for(var t=new Array(i),n=0,o=r(a.activeDate.getFullYear());n<i;n++)t[n]=angular.extend(a.createDateObject(new Date(o+n,0,1),a.formatYear),{uid:e.uniqueId+"-"+n});e.title=[t[0].label,t[i-1].label].join(" - "),e.rows=a.split(t,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e,t){var n=a.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a.step.years:"home"===e?n=r(a.activeDate.getFullYear()):"end"===e&&(n=r(a.activeDate.getFullYear())+i-1),a.activeDate.setFullYear(n)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(e,t,n,a,i,r,o){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(l,s,c,u){var p,d=angular.isDefined(c.closeOnDateSelection)?l.$parent.$eval(c.closeOnDateSelection):o.closeOnDateSelection,f=angular.isDefined(c.datepickerAppendToBody)?l.$parent.$eval(c.datepickerAppendToBody):o.appendToBody;l.showButtonBar=angular.isDefined(c.showButtonBar)?l.$parent.$eval(c.showButtonBar):o.showButtonBar,l.getText=function(e){return l[e+"Text"]||o[e+"Text"]},c.$observe("datepickerPopup",function(e){p=e||o.datepickerPopup,u.$render()});var g=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");function m(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}g.attr({"ng-model":"date","ng-change":"dateSelection()"});var h=angular.element(g.children()[0]);function v(e){if(!e)return u.$setValidity("date",!0),null;if(angular.isDate(e)&&!isNaN(e))return u.$setValidity("date",!0),e;if(angular.isString(e)){var t=r.parse(e,p)||new Date(e);return isNaN(t)?void u.$setValidity("date",!1):(u.$setValidity("date",!0),t)}u.$setValidity("date",!1)}c.datepickerOptions&&angular.forEach(l.$parent.$eval(c.datepickerOptions),function(e,t){h.attr(m(t),e)}),l.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(e){if(c[e]){var n=t(c[e]);if(l.$parent.$watch(n,function(t){l.watchData[e]=t}),h.attr(m(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;l.$watch("watchData."+e,function(e,t){e!==t&&a(l.$parent,e)})}}}),c.dateDisabled&&h.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.$parsers.unshift(v),l.dateSelection=function(e){angular.isDefined(e)&&(l.date=e),u.$setViewValue(l.date),u.$render(),d&&(l.isOpen=!1,s[0].focus())},s.bind("input change keyup",function(){l.$apply(function(){l.date=u.$modelValue})}),u.$render=function(){var e=u.$viewValue?i(u.$viewValue,p):"";s.val(e),l.date=v(u.$modelValue)};var $=function(e){l.isOpen&&e.target!==s[0]&&l.$apply(function(){l.isOpen=!1})},b=function(e,t){l.keydown(e)};s.bind("keydown",b),l.keydown=function(e){27===e.which?(e.preventDefault(),e.stopPropagation(),l.close()):40!==e.which||l.isOpen||(l.isOpen=!0)},l.$watch("isOpen",function(e){e?(l.$broadcast("datepicker.focus"),l.position=f?a.offset(s):a.position(s),l.position.top=l.position.top+s.prop("offsetHeight"),n.bind("click",$)):n.unbind("click",$)}),l.select=function(e){if("today"===e){var t=new Date;angular.isDate(u.$modelValue)?(e=new Date(u.$modelValue)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))}l.dateSelection(e)},l.close=function(){l.isOpen=!1,s[0].focus()};var y=e(g)(l);g.remove(),f?n.find("body").append(y):s.after(y),l.$on("$destroy",function(){y.remove(),s.unbind("keydown",b),n.unbind("click",$)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),e.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(e){var t=null;this.open=function(i){t||(e.bind("click",n),e.bind("keydown",a)),t&&t!==i&&(t.isOpen=!1),t=i},this.close=function(i){t===i&&(t=null,e.unbind("click",n),e.unbind("keydown",a))};var n=function(e){if(t){var n=t.getToggleElement();e&&n&&n[0].contains(e.target)||t.$apply(function(){t.isOpen=!1})}},a=function(e){27===e.which&&(t.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(e,t,n,a,i,r){var o,l=this,s=e.$new(),c=a.openClass,u=angular.noop,p=t.onToggle?n(t.onToggle):angular.noop;this.init=function(a){l.$element=a,t.isOpen&&(o=n(t.isOpen),u=o.assign,e.$watch(o,function(e){s.isOpen=!!e}))},this.toggle=function(e){return s.isOpen=arguments.length?!!e:!s.isOpen},this.isOpen=function(){return s.isOpen},s.getToggleElement=function(){return l.toggleElement},s.focusToggleElement=function(){l.toggleElement&&l.toggleElement[0].focus()},s.$watch("isOpen",function(t,n){r[t?"addClass":"removeClass"](l.$element,c),t?(s.focusToggleElement(),i.open(s)):i.close(s),u(e,t),angular.isDefined(t)&&t!==n&&p(e,{open:!!t})}),e.$on("$locationChangeSuccess",function(){s.isOpen=!1}),e.$on("$destroy",function(){s.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).directive("modalBackdrop",["$timeout",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(t,n,a){t.backdropClass=a.backdropClass||"",t.animate=!1,e(function(){t.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(e,t){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,a,i){a.addClass(i.windowClass||""),n.size=i.size,t(function(){n.animate=!0,a[0].querySelectorAll("[autofocus]").length||a[0].focus()}),n.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(e,t,n,a,i,r){var o,l,s="modal-open",c=r.createNew(),u={};function p(){for(var e=-1,t=c.keys(),n=0;n<t.length;n++)c.get(t[n]).value.backdrop&&(e=n);return e}function d(e){var t=n.find("body").eq(0),a=c.get(e).value;c.remove(e),f(a.modalDomEl,a.modalScope,300,function(){a.modalScope.$destroy(),t.toggleClass(s,c.length()>0),function(){if(o&&-1==p()){var e=l;f(o,l,150,function(){e.$destroy(),e=null}),o=void 0,l=void 0}}()})}function f(n,a,i,r){a.animate=!1;var o=e.transitionEndEventName;if(o){var l=t(s,i);n.bind(o,function(){t.cancel(l),s(),a.$apply()})}else t(s);function s(){s.done||(s.done=!0,n.remove(),r&&r())}}return i.$watch(p,function(e){l&&(l.index=e)}),n.bind("keydown",function(e){var t;27===e.which&&(t=c.top())&&t.value.keyboard&&(e.preventDefault(),i.$apply(function(){u.dismiss(t.key,"escape key press")}))}),u.open=function(e,t){c.add(e,{deferred:t.deferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard});var r=n.find("body").eq(0),u=p();if(u>=0&&!o){(l=i.$new(!0)).index=u;var d=angular.element("<div modal-backdrop></div>");d.attr("backdrop-class",t.backdropClass),o=a(d)(l),r.append(o)}var f=angular.element("<div modal-window></div>");f.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:c.length()-1,animate:"animate"}).html(t.content);var g=a(f)(t.scope);c.top().value.modalDomEl=g,r.append(g),r.addClass(s)},u.close=function(e,t){var n=c.get(e);n&&(n.value.deferred.resolve(t),d(e))},u.dismiss=function(e,t){var n=c.get(e);n&&(n.value.deferred.reject(t),d(e))},u.dismissAll=function(e){for(var t=this.getTop();t;)this.dismiss(t.key,e),t=this.getTop()},u.getTop=function(){return c.top()},u}]).provider("$modal",function(){var e={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(t,n,a,i,r,o,l){var s={};return s.open=function(s){var c=a.defer(),u=a.defer(),p={result:c.promise,opened:u.promise,close:function(e){l.close(p,e)},dismiss:function(e){l.dismiss(p,e)}};if((s=angular.extend({},e.options,s)).resolve=s.resolve||{},!s.template&&!s.templateUrl)throw new Error("One of template or templateUrl options is required.");var d,f,g,m=a.all([(g=s,g.template?a.when(g.template):i.get(angular.isFunction(g.templateUrl)?g.templateUrl():g.templateUrl,{cache:r}).then(function(e){return e.data}))].concat((d=s.resolve,f=[],angular.forEach(d,function(e){(angular.isFunction(e)||angular.isArray(e))&&f.push(a.when(t.invoke(e)))}),f)));return m.then(function(e){var t=(s.scope||n).$new();t.$close=p.close,t.$dismiss=p.dismiss;var a,i={},r=1;s.controller&&(i.$scope=t,i.$modalInstance=p,angular.forEach(s.resolve,function(t,n){i[n]=e[r++]}),a=o(s.controller,i),s.controllerAs&&(t[s.controllerAs]=a)),l.open(p,{scope:t,deferred:c,content:e[0],backdrop:s.backdrop,keyboard:s.keyboard,backdropClass:s.backdropClass,windowClass:s.windowClass,windowTemplateUrl:s.windowTemplateUrl,size:s.size})},function(e){c.reject(e)}),m.then(function(){u.resolve(!0)},function(){u.reject(!1)}),p},s}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},r=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,o){i=r,this.config=o,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=o.itemsPerPage},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t){e.page!==t&&t>0&&t<=e.totalPages&&(i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages},e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){r(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,a,i,r){var o=r[0],l=r[1];if(l){var s=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,c=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,o.init(l,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){s=parseInt(e,10),o.render()});var u=o.render;o.render=function(){u(),n.page>0&&n.page<=n.totalPages&&(n.pages=function(e,t){var n=[],a=1,i=t,r=angular.isDefined(s)&&s<t;r&&(c?(i=(a=Math.max(e-Math.floor(s/2),1))+s-1)>t&&(a=(i=t)-s+1):(a=(Math.ceil(e/s)-1)*s+1,i=Math.min(a+s-1,t)));for(var o=a;o<=i;o++){var l=p(o,o,o===e);n.push(l)}if(r&&!c){if(a>1){var u=p(a-1,"...",!1);n.unshift(u)}if(i<t){var d=p(i+1,"...",!1);n.push(d)}}return n}(n.page,n.totalPages))}}function p(e,t,n){return{number:e,text:t,active:n}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(t,n,a,i){var r=i[0],o=i[1];o&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,r.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var e={placement:"top",animation:!0,popupDelay:0},t={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(t,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(a,i,r,o,l,s){return function(a,c,u){var p=angular.extend({},e,n);function d(e){var n=e||p.trigger||u;return{show:n,hide:t[n]||n}}var f=a.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),g=s.startSymbol(),m=s.endSymbol(),h="<div "+f+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(e,t){var n=i(h);return function(e,t,i){var s,u,f,g,m=!!angular.isDefined(p.appendToBody)&&p.appendToBody,h=d(void 0),v=angular.isDefined(i[c+"Enable"]),$=e.$new(!0),b=function(){var e=l.positionElements(t,s,$.placement,m);e.top+="px",e.left+="px",s.css(e)};function y(){$.isOpen?D():w()}function w(){var t;v&&!e.$eval(i[c+"Enable"])||(t=i[c+"Placement"],$.placement=angular.isDefined(t)?t:p.placement,function(){var e=i[c+"PopupDelay"],t=parseInt(e,10);$.popupDelay=isNaN(t)?p.popupDelay:t}(),$.popupDelay?g||(g=r(k,$.popupDelay,!1)).then(function(e){e()}):k()())}function D(){e.$apply(function(){M()})}function k(){return g=null,f&&(r.cancel(f),f=null),$.content?(function(){s&&x();u=$.$new(),s=n(u,function(e){m?o.find("body").append(e):t.after(e)})}(),s.css({top:0,left:0,display:"block"}),$.$digest(),b(),$.isOpen=!0,$.$digest(),b):angular.noop}function M(){$.isOpen=!1,r.cancel(g),g=null,$.animation?f||(f=r(x,500)):x()}function x(){f=null,s&&(s.remove(),s=null),u&&(u.$destroy(),u=null)}$.isOpen=!1,i.$observe(a,function(e){$.content=e,!e&&$.isOpen&&M()}),i.$observe(c+"Title",function(e){$.title=e});var T,E=function(){t.unbind(h.show,w),t.unbind(h.hide,D)};T=i[c+"Trigger"],E(),(h=d(T)).show===h.hide?t.bind(h.show,y):(t.bind(h.show,w),t.bind(h.hide,D));var O=e.$eval(i[c+"Animation"]);$.animation=angular.isDefined(O)?!!O:p.animation;var C=e.$eval(i[c+"AppendToBody"]);(m=angular.isDefined(C)?C:m)&&e.$on("$locationChangeSuccess",function(){$.isOpen&&M()}),e.$on("$destroy",function(){r.cancel(f),r.cancel(g),E(),x(),$=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.$watch("value",function(n){t.percent=+(100*n/e.max).toFixed(2)}),t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){(a=i).$render=this.render,this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff},e[t]);return e},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t,n=this,a=n.tabs=e.tabs=[];n.select=function(e){angular.forEach(a,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect())}),e.active=!0,e.onSelect()},n.addTab=function(e){a.push(e),1===a.length?e.active=!0:e.active&&n.select(e)},n.removeTab=function(e){var i=a.indexOf(e);if(e.active&&a.length>1&&!t){var r=i==a.length-1?i-1:i+1;n.select(a[r])}a.splice(i,1)},e.$on("$destroy",function(){t=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse",function(e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(t,n,a){return function(t,n,i,r){t.$watch("active",function(e){e&&r.select(t)}),t.disabled=!1,i.disabled&&t.$parent.$watch(e(i.disabled),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(e,t,n,a){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(e,t,n){var a=e.$eval(n.tabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){!function(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase())}(e)?t.append(e):a.headingElement=e})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,r){var o=new Date,l={$setViewValue:angular.noop},s=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):r.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){(l=n).$render=this.render;var i=a.eq(0),o=a.eq(1);(angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(i,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):r.readonlyInput,this.setupInputEvents(i,o)};var c=r.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){c=parseInt(e,10)});var u=r.minuteStep;function p(){var t=parseInt(e.hours,10);if(e.showMeridian?t>0&&t<13:t>=0&&t<24)return e.showMeridian&&(12===t&&(t=0),e.meridian===s[1]&&(t+=12)),t}function d(){var t=parseInt(e.minutes,10);return t>=0&&t<60?t:void 0}function f(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function g(e){m(),l.$setViewValue(new Date(o)),h(e)}function m(){l.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function h(t){var n=o.getHours(),a=o.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:f(n),e.minutes="m"===t?a:f(a),e.meridian=o.getHours()<12?s[0]:s[1]}function v(e){var t=new Date(o.getTime()+6e4*e);o.setHours(t.getHours(),t.getMinutes()),g()}t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){u=parseInt(e,10)}),e.showMeridian=r.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,l.$error.time){var n=p(),a=d();angular.isDefined(n)&&angular.isDefined(a)&&(o.setHours(n),g())}else h()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var a=function(t,n){l.$setViewValue(null),l.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=p();angular.isDefined(e)?(o.setHours(e),g("h")):a(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=f(e.hours)})}),e.updateMinutes=function(){var e=d();angular.isDefined(e)?(o.setMinutes(e),g("m")):a(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=f(e.minutes)})})},this.render=function(){var e=l.$modelValue?new Date(l.$modelValue):null;isNaN(e)?(l.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(o=e),m(),h())},e.incrementHours=function(){v(60*c)},e.decrementHours=function(){v(60*-c)},e.incrementMinutes=function(){v(u)},e.decrementMinutes=function(){v(-u)},e.toggleMeridian=function(){v(720*(o.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,t,n,a){var i=a[0],r=a[1];r&&i.init(r,t.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(e,t,n,a,i,r,o){var l=[9,13,27,38,40];return{require:"ngModel",link:function(s,c,u,p){var d,f=s.$eval(u.typeaheadMinLength)||1,g=s.$eval(u.typeaheadWaitMs)||0,m=!1!==s.$eval(u.typeaheadEditable),h=t(u.typeaheadLoading).assign||angular.noop,v=t(u.typeaheadOnSelect),$=u.typeaheadInputFormatter?t(u.typeaheadInputFormatter):void 0,b=!!u.typeaheadAppendToBody&&s.$eval(u.typeaheadAppendToBody),y=!1!==s.$eval(u.typeaheadFocusFirst),w=t(u.ngModel).assign,D=o.parse(u.typeahead),k=s.$new();s.$on("$destroy",function(){k.$destroy()});var M="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());c.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":M});var x=angular.element("<div typeahead-popup></div>");x.attr({id:M,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(u.typeaheadTemplateUrl)&&x.attr("template-url",u.typeaheadTemplateUrl);var T=function(){k.matches=[],k.activeIdx=-1,c.attr("aria-expanded",!1)},E=function(e){return M+"-option-"+e};k.$watch("activeIdx",function(e){e<0?c.removeAttr("aria-activedescendant"):c.attr("aria-activedescendant",E(e))});var O,C=function(e){var t={$viewValue:e};h(s,!0),n.when(D.source(s,t)).then(function(n){var a=e===p.$viewValue;if(a&&d)if(n.length>0){k.activeIdx=y?0:-1,k.matches.length=0;for(var i=0;i<n.length;i++)t[D.itemName]=n[i],k.matches.push({id:E(i),label:D.viewMapper(k,t),model:n[i]});k.query=e,k.position=b?r.offset(c):r.position(c),k.position.top=k.position.top+c.prop("offsetHeight"),c.attr("aria-expanded",!0)}else T();a&&h(s,!1)},function(){T(),h(s,!1)})};T(),k.query=void 0;var A=function(){O&&a.cancel(O)};p.$parsers.unshift(function(e){return d=!0,e&&e.length>=f?g>0?(A(),function(e){O=a(function(){C(e)},g)}(e)):C(e):(h(s,!1),A(),T()),m?e:e?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),e)}),p.$formatters.push(function(e){var t,n={};return $?(n.$model=e,$(s,n)):(n[D.itemName]=e,t=D.viewMapper(s,n),n[D.itemName]=void 0,t!==D.viewMapper(s,n)?t:e)}),k.select=function(e){var t,n,i={};i[D.itemName]=n=k.matches[e].model,t=D.modelMapper(s,i),w(s,t),p.$setValidity("editable",!0),v(s,{$item:n,$model:t,$label:D.viewMapper(s,i)}),T(),a(function(){c[0].focus()},0,!1)},c.bind("keydown",function(e){0!==k.matches.length&&-1!==l.indexOf(e.which)&&(-1!=k.activeIdx||13!==e.which&&9!==e.which)&&(e.preventDefault(),40===e.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===e.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===e.which||9===e.which?k.$apply(function(){k.select(k.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),k.$digest()))}),c.bind("blur",function(e){d=!1});var S=function(e){c[0]!==e.target&&(T(),k.$digest())};i.bind("click",S),s.$on("$destroy",function(){i.unbind("click",S),b&&V.remove()});var V=e(x)(k);b?i.find("body").append(V):c.after(V)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(e,t,n,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var l=a(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e.get(l,{cache:t}).success(function(e){r.replaceWith(n(e.trim())(i))})}}}]).filter("typeaheadHighlight",function(){return function(e,t){return t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e}});